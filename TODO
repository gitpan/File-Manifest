Well, what is missing?

switch to File::Find?
